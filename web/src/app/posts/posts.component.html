<div>
  <p>Posts ({{ posts.length }})</p>
  <div *ngFor="let e of posts; let i = index">
    <div class="card mt-2" style="border: 1px solid black; padding: 10px">
      <div class="d-flex justify-content-between p-2 px-3">
        <div class="d-flex flex-row align-items-center">
          <img src="https://i.imgur.com/UXdKE3o.jpg" width="50"
               class="rounded-circle">
          <div class="d-flex flex-column ml-2">
            <span class="font-weight-bold">
              {{ getUser(e.user_id) }} at {{ e.datetime_published }}
            </span>
          </div>
        </div>
        <div class="d-flex flex-row mt-1 ellipsis">
          <small class="mr-2">20 mins</small>
          <i class="fa fa-ellipsis-h"></i>
        </div>
      </div>
      <div class="p-2">
        <div *ngIf="editNumber != i; else ta">
          <p class="text-justify">
            {{ e.content }}
          </p>
          <button type="button" class="btn btn-sm btn-outline-primary m-2" *ngIf="e.user_id == loggedInUser.id" (click)="delete(i)">
            Delete
          </button>
          <button type="button" class="btn btn-sm btn-outline-primary" *ngIf="e.user_id == loggedInUser.id" (click)="edit(i)">
            Edit
          </button>
        </div>
        <hr>
        <div class="d-flex justify-content-between align-items-center">
          <div class="d-flex flex-row icons d-flex align-items-center"><i class="fa fa-heart"></i> <i
            class="fa fa-smile-o ml-2"></i></div>
          <div class="d-flex gap-2 flex-row muted-color">
            <span>2 comments</span>
            <span class="ml-2">Share</span>
          </div>
        </div>
        <hr>
        <div class="comments">
          <div class="d-flex flex-row mb-2"><img src="https://i.imgur.com/9AZ2QX1.jpg" width="40" class="rounded-image">
            <div class="d-flex flex-column ml-2"><span class="name">Daniel Frozer</span> <small class="comment-text">I
              like this alot! thanks alot</small>
              <div class="d-flex flex-row align-items-center status"><small>Like</small> <small>Reply</small> <small>Translate</small>
                <small>18 mins</small></div>
            </div>
          </div>
          <div class="d-flex flex-row mb-2"><img src="https://i.imgur.com/1YrCKa1.jpg" width="40" class="rounded-image">
            <div class="d-flex flex-column ml-2"><span class="name">Elizabeth goodmen</span> <small
              class="comment-text">Thanks for sharing!</small>
              <div class="d-flex flex-row align-items-center status"><small>Like</small> <small>Reply</small> <small>Translate</small>
                <small>8 mins</small></div>
            </div>
          </div>
          <div class="comment-input"><input type="text" class="form-control">
            <div class="fonts"><i class="fa fa-camera"></i></div>
          </div>
        </div>
      </div>
      <ng-template #ta>
        <br/>
        <textarea [(ngModel)]="textAreaText"></textarea>
        <br/>
        <button (click)="saveEdit(i)">Save</button>
      </ng-template>
    </div>
  </div>
  <button type="button" class="btn btn-sm btn-outline-primary" (click)="toggleNewPost()">New</button>
  <div *ngIf="addPost == true">
    User<br/>
    <input type="text" value="{{ loggedInUser.username }}" disabled/><br/>
    Comment<br/>
    <textarea [(ngModel)]="newPost.content"></textarea><br/>
    <button type="button" class="btn btn-sm btn-outline-primary"  (click)="add()" [disabled]="newPost.content.length < 1" [ngStyle]="{
      'background-color': newPost.content.length > 0 ? '#73c7af' : 'red'
    }">
      Send
    </button>
  </div>

</div>


